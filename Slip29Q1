Consider the following entities and their relationships [15]
Event (eno , title , date ) 
Committee ( cno , name, head , from_time ,to_time , status) 
Event and Committee have many to many relationship. Write a php script to accept title of event 
and modify status committee as working. 
////////////////////////////////////////////////////////////////

HTML-:

<html>
<head>
	<title> Assignment 5 - Q2 </title>
</head>
<body bgcolor = "pink">
	<form action = "29.php" method = "POST">
	Enter title of the event : <input type = "text" name = "name" ><br><br>
	<input type = "submit" value = "OK">
	<input type = "reset" value = "CLEAR">
	</form>
</body>
</html>

////////////////////////////////////////////////////////////////

PHP-:


<?php

	$title = $_POST['name'];

	$db = pg_connect("dbname=nikhil user=postgres password=redhat") or die("Unable to connect.");
	
	/*$sql = "create table Event(eno integer primary key,title varchar(20) not null,date date)";
	
	$sql = "insert into Event values(1,'Running','2022-12-21')";
	$sql = "insert into Event values(2,'Shooting','2022-12-19')";
	$sql = "insert into Event values(3,'Swimming','2022-12-13')";*/

	/*$sql = "create table Committee(cno integer primary key, name varchar(10) not null,head varchar(10),from_time time, to_time time, status varchar(10))";

	$sql = "insert into Committee values(1,'Shubham','ABC', '09:30','05:30','working')";
	$sql = "insert into Committee values(2,'Chetan','ABC', '10:30','04:00','not work')";
	$sql = "insert into Committee values(3,'Shubham','ABC', '12:30','07:30','working')";

	$sql = "create table Event_Committee(eno integer, cno integer, foreign key(eno) references Event(eno) on update cascade on delete cascade,foreign key(cno) references Committee(cno) on update cascade on delete cascade)";

	$sql = "insert into Event_Committee values(1,1)";
	$sql = "insert into Event_Committee values(1,2)";
	$sql = "insert into Event_Committee values(2,2)";*/

	$sql = "update Committee set status = 'working' where cno in(select c.cno from Event e,Committee c,Event_Committee ec where e.eno = ec.eno and c.cno = ec.cno and e.title = '$title')";

	$ret = pg_query( $db, $sql );

	if( $ret )
		echo "Query executed successfully!";
	else
		echo "Query does not execute!";
?>
